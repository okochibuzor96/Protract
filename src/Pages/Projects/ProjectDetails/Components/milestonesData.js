import project from '../../my-projects.module.css';
import dashboard from '../../../../styles/my-Dashboard.module.css';

import { TbCaretUpDownFilled } from "react-icons/tb";

import Paid from "../../../../Components/Status/Paid"
import {Completed} from "../../../../Components/Status/Completed"
import {Pending} from "../../../../Components/Status/Pending"
import {NotStarted2} from "../../../../Components/Status/NotStarted2"

import {ViewButtons} from "../../../../Components/viewButtons"

import { useQuery, useQueryClient } from 'react-query';
import { useParams } from 'react-router-dom';
import {getProjectDetails} from '../../../hooks/useQuery/useProject'
import DataContext from '../../../Context API/Create_Context';
import { useContext } from 'react';
import React from 'react'

function MilestonesData() {

  const {projects} = useContext(DataContext)

    const {id} = useParams()

    const data = projects.find((item)=> item.id === parseInt(id))

    // const queryClient = useQueryClient()
  
    // const {data} = useQuery(['milestone', id], getProjectDetails,{
    //   initialData: () => {
        
    //     const Milestone = queryClient.getQueriesData('project')?.data?.find((project) => project.id === parseInt(id))
  
    //     if(Milestone){
    //       return{
    //         data:Milestone
    //       }
    //     }else{
    //       return undefined
    //     }
    //   }
    // })

  return (

    <div className={project.mileStonetWrapper}>

        <div className={project.mileStonethead}>
            
            <div>S/N</div>
            <div>Milestone Name</div>
            <div>Percentage</div>
            <div>Due Date</div>
            <div>Issues</div>
            <div> 
                <TbCaretUpDownFilled/> 
                <div>Status</div>
            </div>
            
        </div>
       
        {
            data.mileStone.map((data,i) =>(

                <React.Fragment key={i}>

                    <div className={project.mileStonetbody}>
                        <div>{i+1}</div>
                        <div>{data.description}</div>
                        <div>{data.payment}</div>
                        <div>{data.dueDate}</div>
                        <div>{data.Issues}</div>
                        <div>
                            

                            {
                                data.payment ===''? <NotStarted2/>: data.payment === '5%'?  <Pending/>: data.payment ==='100%'? <Completed/> : <Paid/>
                            }

                            <ViewButtons/>
                        </div>
                    </div>

                    <div className={dashboard.mobile}>

                        <div className={`${dashboard.statusWrapper} ${dashboard.statusBgColor}`}>

                            <svg width="17" height="12" viewBox="0 0 17 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.01653 8.42878L12.751 5.43131L9.01653 2.21978V3.76451C9.01653 3.77359 9.01578 3.78173 9.01475 3.78867C9.01492 3.79563 9.01467 3.80357 9.01362 3.81222L9.00972 3.81175C9.00884 3.8148 9.00815 3.81694 9.00795 3.81756M9.01653 8.42878L9.00985 3.81034L8.8647 3.79424M9.01653 8.42878V6.84079C9.01653 6.8118 9.01041 6.78838 9.00712 6.77661L9.00488 6.76887L9.00359 6.76443C9.00352 6.76418 9.00346 6.76397 9.00341 6.7638C9.0033 6.7634 9.00325 6.76321 9.00325 6.76321C9.00325 6.76321 9.00337 6.76367 9.00353 6.76444C9.00355 6.76455 9.00358 6.76466 9.0036 6.76477L9.00372 6.76537L9.01653 8.42878ZM9.00795 3.81756L9.00911 3.81335C9.00924 3.81286 9.00938 3.81231 9.00952 3.81172L8.8647 3.79424M9.00795 3.81756L9.00782 3.81796L9.00773 3.81827C9.00766 3.81848 9.00766 3.81848 9.00795 3.81756ZM8.8647 3.79424C8.86379 3.80244 8.86071 3.80965 8.85759 3.81693C8.85549 3.82184 8.85337 3.82679 8.8519 3.8321M8.8647 3.79424C8.86503 3.79156 8.86449 3.78904 8.86396 3.78655C8.8635 3.78435 8.86303 3.78217 8.86318 3.77994C8.86332 3.7774 8.86409 3.775 8.86485 3.7726C8.86569 3.76995 8.86653 3.76731 8.86653 3.76451V2.09079L8.8519 3.8321M8.80098 3.92996L8.91632 4.02586C8.91714 4.02487 8.91814 4.02369 8.91928 4.02235C8.92901 4.01084 8.94937 3.98677 8.96509 3.95786L8.96558 3.95695C8.98256 3.92519 8.99154 3.89085 8.99533 3.87638C8.99534 3.87633 8.99536 3.87628 8.99537 3.87623L8.99746 3.8713C9.00111 3.8626 9.01054 3.84001 9.01379 3.81078L9.01011 3.81037L8.71092 4.16763C8.71126 4.16752 8.7116 4.1674 8.71194 4.16729M8.80098 3.92996L8.91753 4.02439C8.91673 4.02538 8.91577 4.02658 8.91467 4.02796C8.9053 4.03972 8.88566 4.06437 8.86067 4.0854L8.85816 4.08751L8.85813 4.08748C8.83269 4.10796 8.80552 4.12237 8.79093 4.13011C8.78962 4.13081 8.7884 4.13145 8.7873 4.13204L8.71652 3.99979M8.80098 3.92996C8.79976 3.93148 8.79854 3.93299 8.79732 3.9345C8.78704 3.94726 8.7769 3.95984 8.76409 3.97063M8.80098 3.92996C8.80224 3.92844 8.8035 3.92694 8.80476 3.92544C8.8153 3.91283 8.8254 3.90075 8.8333 3.88622C8.84127 3.87131 8.84554 3.85555 8.84993 3.8393C8.85058 3.83691 8.85123 3.83451 8.8519 3.8321M8.71652 3.99979L8.78966 4.13076C8.78843 4.13144 8.78701 4.13225 8.78542 4.13315C8.77139 4.14111 8.74382 4.15675 8.71194 4.16729M8.71652 3.99979L8.7192 3.99836C8.73501 3.98991 8.75023 3.98178 8.76409 3.97063M8.71652 3.99979L8.76409 3.97063M8.71194 4.16729C8.68115 4.17768 8.64665 4.18195 8.63334 4.1836C8.63234 4.18373 8.63146 4.18384 8.63071 4.18393L8.62725 4.18479L8.62039 4.1865C8.60991 4.18904 8.58823 4.1941 8.56164 4.1941C8.5525 4.1941 8.54438 4.19335 8.5376 4.19238C8.53076 4.19264 8.52283 4.19253 8.51407 4.19164L8.51449 4.18754C8.51438 4.18751 8.51429 4.18748 8.51421 4.18746L8.51399 4.1874C8.51234 4.18695 8.51295 4.18713 8.51449 4.18751L8.52932 4.04242L8.51657 4.18801C8.51693 4.18809 8.51731 4.18818 8.5177 4.18826C8.52171 4.18912 8.52853 4.19037 8.53722 4.19082L8.71194 4.16729ZM8.76409 3.97063L8.99426 3.87886L8.99427 3.87884C8.99442 3.87846 8.99539 3.87596 8.99643 3.87222L8.8519 3.8321M8.56004 6.41093C8.56057 6.41093 8.5611 6.41093 8.56164 6.41093L8.56004 6.41093ZM8.56004 6.41093C6.12088 6.27995 4.19206 6.75769 2.85081 7.85624L8.56004 6.41093ZM8.59086 6.41213C8.61657 6.41379 8.63728 6.41979 8.6477 6.42292L8.65496 6.42516L8.65919 6.42646C8.65951 6.42655 8.65977 6.42663 8.65996 6.42668L8.67124 6.42889L8.67238 6.42911C8.67699 6.42997 8.68342 6.43117 8.68994 6.43253C8.70373 6.43543 8.72458 6.44038 8.74711 6.45006C8.76819 6.45891 8.78478 6.46927 8.79586 6.47665L8.80975 6.48618L8.81693 6.49109C8.81723 6.49128 8.81792 6.49169 8.81894 6.49231C8.82782 6.49766 8.86195 6.51824 8.8866 6.54193L8.8879 6.54317L8.88789 6.54318C8.90435 6.55938 8.91606 6.57549 8.92371 6.58674C8.92749 6.59228 8.93092 6.59764 8.93321 6.60119L8.93736 6.60758L8.59086 6.41213ZM8.59086 6.41213C8.58328 6.41154 8.57697 6.41144 8.57352 6.4114C8.57341 6.4114 8.57331 6.41139 8.57321 6.41139L8.57069 6.41137L8.59086 6.41213ZM8.59086 6.41213C8.58979 6.41206 8.58871 6.412 8.58762 6.41195L8.58756 6.41318L8.59086 6.41213ZM8.62391 6.42439C8.62334 6.42414 8.62255 6.42379 8.6217 6.42342L8.62388 6.42438L8.62391 6.42439ZM8.62391 6.42439C8.62456 6.42469 8.62492 6.42486 8.62475 6.42478L8.62469 6.42475L8.62452 6.42467L8.62391 6.42439ZM10.4011 9.03032L10.4009 9.03043C10.2074 9.1861 10.1852 9.46404 10.358 9.64528C10.4491 9.74101 10.5742 9.7872 10.6959 9.7872C10.7981 9.7872 10.9039 9.75508 10.9907 9.68493C10.9907 9.68492 10.9908 9.68491 10.9908 9.6849L15.8684 5.76988C15.9658 5.69174 16.026 5.57595 16.0284 5.45025C16.0309 5.32381 15.9746 5.20627 15.88 5.1248L15.8799 5.12471L11.0026 0.930079C11.0025 0.930038 11.0025 0.929996 11.0024 0.929954C10.8208 0.773028 10.5399 0.78209 10.3687 0.948654L10.3683 0.949062C10.1901 1.12383 10.2006 1.40274 10.3895 1.56526L10.3895 1.56528L14.8849 5.43131L10.4011 9.03032ZM8.85634 9.68529L8.85646 9.6852L13.7344 5.76989C13.8318 5.69174 13.8921 5.57595 13.8945 5.45025C13.8969 5.32381 13.8406 5.20627 13.7461 5.1248L13.746 5.12471L8.8683 0.929808L8.86828 0.92979C8.73593 0.81601 8.54704 0.787159 8.38524 0.851402C8.22193 0.916247 8.10705 1.06898 8.10705 1.24769V3.31817C7.19396 3.31984 5.18639 3.49491 3.53072 4.8576C1.90552 6.19488 1.09512 8.28431 1.09512 11.0357C1.09512 11.2798 1.30309 11.4586 1.53709 11.4649L1.53709 11.465H1.54117H1.54119H1.5412H1.54122H1.54124H1.54126H1.54128H1.54129H1.54131H1.54133H1.54135H1.54136H1.54138H1.5414H1.54142H1.54144H1.54145H1.54147H1.54149H1.54151H1.54152H1.54154H1.54156H1.54158H1.5416H1.54161H1.54163H1.54165H1.54167H1.54168H1.5417H1.54172H1.54174H1.54175H1.54177H1.54179H1.54181H1.54182H1.54184H1.54186H1.54188H1.5419H1.54191H1.54193H1.54195H1.54197H1.54198H1.542H1.54202H1.54204H1.54205H1.54207H1.54209H1.54211H1.54212H1.54214H1.54216H1.54218H1.54219H1.54221H1.54223H1.54225H1.54226H1.54228H1.5423H1.54232H1.54233H1.54235H1.54237H1.54239H1.5424H1.54242H1.54244H1.54246H1.54247H1.54249H1.54251H1.54253H1.54254H1.54256H1.54258H1.5426H1.54261H1.54263H1.54265H1.54266H1.54268H1.5427H1.54272H1.54273H1.54275H1.54277H1.54279H1.5428H1.54282H1.54284H1.54286H1.54287H1.54289H1.54291H1.54292H1.54294H1.54296H1.54298H1.54299H1.54301H1.54303H1.54305H1.54306H1.54308H1.5431H1.54311H1.54313H1.54315H1.54317H1.54318H1.5432H1.54322H1.54324H1.54325H1.54327H1.54329H1.5433H1.54332H1.54334H1.54336H1.54337H1.54339H1.54341H1.54342H1.54344H1.54346H1.54348H1.54349H1.54351H1.54353H1.54354H1.54356H1.54358H1.5436H1.54361H1.54363H1.54365H1.54367H1.54368H1.5437H1.54372H1.54373H1.54375H1.54377H1.54379H1.5438H1.54382H1.54384H1.54385H1.54387H1.54389H1.5439H1.54392H1.54394H1.54396H1.54397H1.54399H1.54401H1.54402H1.54404H1.54406H1.54408H1.54409H1.54411H1.54413H1.54414H1.54416H1.54418H1.5442H1.54421H1.54423H1.54425H1.54426H1.54428H1.5443H1.54431H1.54433H1.54435H1.54437H1.54438H1.5444H1.54442H1.54443H1.54445H1.54447H1.54449H1.5445H1.54452H1.54454H1.54455H1.54457H1.54459H1.5446H1.54462H1.54464H1.54466H1.54467H1.54469H1.54471H1.54472H1.54474H1.54476H1.54477H1.54479H1.54481H1.54483H1.54484H1.54486H1.54488H1.54489H1.54491H1.54493H1.54494H1.54496H1.54498H1.545H1.54501H1.54503H1.54505H1.54506H1.54508H1.5451H1.54511H1.54513H1.54515H1.54517H1.54518H1.5452H1.54522H1.54523H1.54525H1.54527H1.54528H1.5453H1.54532H1.54533H1.54535H1.54537H1.54539H1.5454H1.54542H1.54544H1.54545H1.54547H1.54549H1.5455H1.54552H1.54554H1.54556H1.54557H1.54559H1.54561H1.54562H1.54564H1.54566H1.54567H1.54569H1.54571H1.54573H1.54574H1.54576H1.54578H1.54579H1.54581H1.54583H1.54584H1.54586H1.54588H1.54589H1.54591H1.54593H1.54595H1.54596H1.54598H1.546H1.54601H1.54603H1.54605H1.54606H1.54608H1.5461H1.54612H1.54613H1.54615H1.54617H1.54618H1.5462H1.54622H1.54623H1.54625H1.54627H1.54629H1.5463H1.54632H1.54634H1.54635H1.54637H1.54639H1.5464H1.54642H1.54644H1.54646H1.54647H1.54649H1.54651H1.54652H1.54654H1.54656H1.54657H1.54659H1.54661H1.54663H1.54664H1.54666H1.54668H1.54669H1.54671H1.54673H1.54674H1.54676H1.54678H1.5468H1.54681H1.54683H1.54685H1.54686H1.54688H1.5469H1.54692H1.54693H1.54695H1.54697H1.54698H1.547H1.54702H1.54703H1.54705H1.54707H1.54709H1.5471H1.54712H1.54714H1.54715H1.54717H1.54719H1.54721H1.54722H1.54724H1.54726H1.54727H1.54729H1.54731H1.54733H1.54734H1.54736H1.54738H1.54739H1.54741H1.54743H1.54745H1.54746H1.54748H1.5475H1.54751H1.54753H1.54755H1.54757H1.54758H1.5476H1.54762H1.54763H1.54765H1.54767H1.54769H1.5477H1.54772H1.54774H1.54775H1.54777H1.54779H1.54781H1.54782H1.54784H1.54786H1.54787H1.54789H1.54791H1.54793H1.54794H1.54796H1.54798H1.548H1.54801H1.54803H1.54805H1.54806H1.54808H1.5481H1.54812H1.54813H1.54815H1.54817H1.54819H1.5482H1.54822H1.54824H1.54825H1.54827H1.54829H1.54831H1.54832H1.54834H1.54836H1.54838H1.54839H1.54841H1.54843H1.54844H1.54846H1.54848H1.5485H1.54851H1.54853H1.54855H1.54857H1.54858H1.5486H1.54862H1.54864H1.54865H1.54867H1.54869H1.54871H1.54872H1.54874H1.54876H1.54878H1.54879H1.54881H1.54883H1.54885H1.54886H1.54888H1.5489H1.54892H1.54893H1.54895H1.54897H1.54899H1.549H1.54902H1.54904H1.54906H1.54907H1.54909H1.54911H1.54913H1.54914H1.54916H1.54918H1.5492H1.54921H1.54923H1.54925H1.54927H1.54928H1.5493H1.54932H1.54934H1.54935H1.54937H1.54939H1.54941H1.54942H1.54944H1.54946H1.54948H1.5495H1.54951H1.54953H1.54955H1.54957H1.54958H1.5496H1.54962H1.54964H1.54965H1.54967H1.54969H1.54971H1.54973H1.54974H1.54976H1.54978H1.5498H1.54981H1.54983H1.54985H1.54987H1.54989H1.5499H1.54992H1.54994H1.54996H1.54997H1.54999H1.55001C1.77887 11.465 1.98881 11.2987 2.00399 11.061L2.00403 11.0603L2.00403 11.0602C2.00474 11.0508 2.11418 9.59173 3.45461 8.49942C4.5207 7.63077 6.08146 7.21043 8.10705 7.25851V9.35762C8.10705 9.53374 8.21868 9.68454 8.37838 9.75101L8.37899 9.75126C8.4378 9.77544 8.4999 9.7872 8.56164 9.7872C8.66606 9.7872 8.77133 9.75339 8.85634 9.68529ZM8.51623 4.19184L8.51656 4.18809L2.85076 7.85627C2.66498 8.00833 2.49879 8.1657 2.35014 8.32525C2.69224 7.14036 3.28623 6.20052 4.12304 5.51005L4.12306 5.51003C5.98851 3.97028 8.48907 4.18946 8.51616 4.19184L8.51623 4.19184Z" fill="white" stroke="white"/>
                            </svg>

                        </div>

                        <div className={dashboard.content}>

                            <div>

                                <div>
                                {data.description}
                                </div>

                                <div className={`${dashboard.statusWrapper}`}>

                                <svg width="12" height="17" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.62367 8.3433L1.52664 0.22939C1.22179 -0.0760396 0.727144 -0.0765084 0.421792 0.228257C0.116363 0.533023 0.115855 1.02767 0.420621 1.3331L8.51824 9.44759C8.82285 9.7522 8.82285 10.2478 8.51765 10.553L0.420621 18.6669C0.115855 18.9724 0.116363 19.467 0.421792 19.7718C0.574253 19.924 0.77398 20 0.973628 20C1.17382 20 1.37402 19.9235 1.52664 19.7706L9.62308 11.6573C10.5369 10.7435 10.5369 9.25654 9.62367 8.3433Z" fill="#ADADAD"/>
                                </svg>
                                
                                </div>

                            </div>

                            <div>

                                <div>{data.payment}</div>

                                <div className={dashboard.date}>
                                
                                <svg width="11" height="10" viewBox="0 0 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.02051 10C2.26342 10 0.0205078 7.75708 0.0205078 5C0.0205078 2.24292 2.26342 0 5.02051 0C7.77759 0 10.0205 2.24292 10.0205 5C10.0205 7.75708 7.77759 10 5.02051 10ZM5.02051 0.833333C2.72301 0.833333 0.853841 2.7025 0.853841 5C0.853841 7.2975 2.72301 9.16667 5.02051 9.16667C7.31801 9.16667 9.18717 7.2975 9.18717 5C9.18717 2.7025 7.31801 0.833333 5.02051 0.833333ZM6.68717 7.08333C6.58051 7.08333 6.47384 7.0425 6.39259 6.96125L4.72634 5.295C4.68759 5.25625 4.65717 5.21042 4.63592 5.15917C4.61467 5.10833 4.60384 5.05417 4.60384 5V2.08333C4.60384 1.85333 4.79009 1.66667 5.02051 1.66667C5.25092 1.66667 5.43717 1.85333 5.43717 2.08333V4.8275L6.98176 6.37208C7.14467 6.535 7.14467 6.79833 6.98176 6.96125C6.90051 7.0425 6.79384 7.08333 6.68717 7.08333Z" fill="#A9A5AF"/>
                                </svg>

                                <div>Feb 10th, 12:30pm</div>
                            
                                </div>
                            </div>

                        </div>

                    </div>

                </React.Fragment>

            ))
        }
        
    </div>
    
  )
}

export default MilestonesData